<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.great.dao.QuestionMapper">
  <resultMap id="BaseResultMap" type="com.great.entity.Question">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    <id column="Q_NO" jdbcType="DECIMAL" property="qNo" />
    <result column="T_NO" jdbcType="DECIMAL" property="tNo" />
    <result column="Q_DESCRIPTION" jdbcType="VARCHAR" property="qDescription" />
    <result column="Q_ANSWER_A" jdbcType="VARCHAR" property="qAnswerA" />
    <result column="Q_ANSWER_B" jdbcType="VARCHAR" property="qAnswerB" />
    <result column="Q_ANSWER_C" jdbcType="VARCHAR" property="qAnswerC" />
    <result column="Q_ANSWER_D" jdbcType="VARCHAR" property="qAnswerD" />
    <result column="Q_ANSWER_CORRECT" jdbcType="VARCHAR" property="qAnswerCorrect" />
    <result column="Q_SUBJECT" jdbcType="VARCHAR" property="qSubject" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    Q_NO, T_NO, Q_DESCRIPTION, Q_ANSWER_A, Q_ANSWER_B, Q_ANSWER_C, Q_ANSWER_D, Q_ANSWER_CORRECT, 
    Q_SUBJECT
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from QUESTION
    where Q_NO = #{qNo,jdbcType=DECIMAL}
  </select>
  
 <select id="getExamQues" parameterType="java.lang.String" resultMap="BaseResultMap">
   select <include refid="Base_Column_List" /> from question where Q_SUBJECT = #{subject} and ROWNUM &lt; 51 order by DBMS_RANDOM.VALUE 
  </select>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    delete from QUESTION
    where Q_NO = #{qNo,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" parameterType="com.great.entity.Question">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into QUESTION (Q_NO, T_NO, Q_DESCRIPTION, 
      Q_ANSWER_A, Q_ANSWER_B, Q_ANSWER_C, 
      Q_ANSWER_D, Q_ANSWER_CORRECT, Q_SUBJECT
      )
    values (#{qNo,jdbcType=DECIMAL}, #{tNo,jdbcType=DECIMAL}, #{qDescription,jdbcType=VARCHAR}, 
      #{qAnswerA,jdbcType=VARCHAR}, #{qAnswerB,jdbcType=VARCHAR}, #{qAnswerC,jdbcType=VARCHAR}, 
      #{qAnswerD,jdbcType=VARCHAR}, #{qAnswerCorrect,jdbcType=VARCHAR}, #{qSubject,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.great.entity.Question">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into QUESTION
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="qNo != null">
        Q_NO,
      </if>
      <if test="tNo != null">
        T_NO,
      </if>
      <if test="qDescription != null">
        Q_DESCRIPTION,
      </if>
      <if test="qAnswerA != null">
        Q_ANSWER_A,
      </if>
      <if test="qAnswerB != null">
        Q_ANSWER_B,
      </if>
      <if test="qAnswerC != null">
        Q_ANSWER_C,
      </if>
      <if test="qAnswerD != null">
        Q_ANSWER_D,
      </if>
      <if test="qAnswerCorrect != null">
        Q_ANSWER_CORRECT,
      </if>
      <if test="qSubject != null">
        Q_SUBJECT,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="qNo != null">
        #{qNo,jdbcType=DECIMAL},
      </if>
      <if test="tNo != null">
        #{tNo,jdbcType=DECIMAL},
      </if>
      <if test="qDescription != null">
        #{qDescription,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerA != null">
        #{qAnswerA,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerB != null">
        #{qAnswerB,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerC != null">
        #{qAnswerC,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerD != null">
        #{qAnswerD,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerCorrect != null">
        #{qAnswerCorrect,jdbcType=VARCHAR},
      </if>
      <if test="qSubject != null">
        #{qSubject,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.great.entity.Question">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update QUESTION
    <set>
      <if test="tNo != null">
        T_NO = #{tNo,jdbcType=DECIMAL},
      </if>
      <if test="qDescription != null">
        Q_DESCRIPTION = #{qDescription,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerA != null">
        Q_ANSWER_A = #{qAnswerA,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerB != null">
        Q_ANSWER_B = #{qAnswerB,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerC != null">
        Q_ANSWER_C = #{qAnswerC,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerD != null">
        Q_ANSWER_D = #{qAnswerD,jdbcType=VARCHAR},
      </if>
      <if test="qAnswerCorrect != null">
        Q_ANSWER_CORRECT = #{qAnswerCorrect,jdbcType=VARCHAR},
      </if>
      <if test="qSubject != null">
        Q_SUBJECT = #{qSubject,jdbcType=VARCHAR},
      </if>
    </set>
    where Q_NO = #{qNo,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.great.entity.Question">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update QUESTION
    set T_NO = #{tNo,jdbcType=DECIMAL},
      Q_DESCRIPTION = #{qDescription,jdbcType=VARCHAR},
      Q_ANSWER_A = #{qAnswerA,jdbcType=VARCHAR},
      Q_ANSWER_B = #{qAnswerB,jdbcType=VARCHAR},
      Q_ANSWER_C = #{qAnswerC,jdbcType=VARCHAR},
      Q_ANSWER_D = #{qAnswerD,jdbcType=VARCHAR},
      Q_ANSWER_CORRECT = #{qAnswerCorrect,jdbcType=VARCHAR},
      Q_SUBJECT = #{qSubject,jdbcType=VARCHAR}
    where Q_NO = #{qNo,jdbcType=DECIMAL}
  </update>
  <select id="getNowQuestion" parameterType="java.lang.String" resultMap="BaseResultMap">
      SELECT * FROM QUESTION WHERE Q_NO = #{0} AND Q_SUBJECT = #{1}
  </select>
  <select id="getRamQuestion" parameterType="java.lang.String" resultMap="BaseResultMap">
      SELECT * FROM (SELECT * FROM (SELECT * FROM QUESTION WHERE Q_SUBJECT=#{subject}) ORDER BY DBMS_RANDOM.VALUE) WHERE ROWNUM &lt; 11
  </select>
  <select id="getFalseQuestion" parameterType="java.lang.String" resultMap="BaseResultMap">
      SELECT * FROM QUESTION WHERE Q_NO = #{qno} 
  </select>
</mapper>