<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.great.dao.TrainerStuMapper">
  <resultMap id="BaseResultMap" type="com.great.entity.TrainerStu">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    <id column="TRA_STU_UUID" jdbcType="VARCHAR" property="traStuUuid" />
    <result column="TRA_UUID" jdbcType="VARCHAR" property="traUuid" />
    <result column="STU_UUID" jdbcType="VARCHAR" property="stuUuid" />
    <result column="REGISTER_DATE" jdbcType="TIMESTAMP" property="registerDate" />
    <result column="GRADUATED_DATE" jdbcType="TIMESTAMP" property="graduatedDate" />
    <result column="STU_STATUS" jdbcType="VARCHAR" property="stuStatus" />
    
   <!--      注入到   listsStudents 集合中-->
<!--     <association property="listsStudents" javaType="com.great.entity.Student"  -->
<!--     select="showStudent" column="STU_UUID">  </association>  -->
    
  </resultMap>
  
<!--      <select id="showStudent" resultType="com.great.entity.Student" parameterType="java.lang.String">       -->
<!--         select * from student where stu_uuid=#{STU_UUID}     -->
<!--      </select> -->
 
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    TRA_STU_UUID, TRA_UUID, STU_UUID, REGISTER_DATE, GRADUATED_DATE, STU_STATUS
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    select 
    <include refid="Base_Column_List"/>
    from TRAINER_STU
    where TRA_UUID = #{uuid}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    delete from TRAINER_STU
    where TRA_STU_UUID = #{traStuUuid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.great.entity.TrainerStu">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into TRAINER_STU (TRA_STU_UUID, TRA_UUID, STU_UUID, 
      REGISTER_DATE, GRADUATED_DATE, STU_STATUS
      )
    values (#{traStuUuid,jdbcType=VARCHAR}, #{traUuid,jdbcType=VARCHAR}, #{stuUuid,jdbcType=VARCHAR}, 
      #{registerDate,jdbcType=TIMESTAMP}, #{graduatedDate,jdbcType=TIMESTAMP}, #{stuStatus,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.great.entity.TrainerStu">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into TRAINER_STU
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="traStuUuid != null">
        TRA_STU_UUID,
      </if>
      <if test="traUuid != null">
        TRA_UUID,
      </if>
      <if test="stuUuid != null">
        STU_UUID,
      </if>
      <if test="registerDate != null">
        REGISTER_DATE,
      </if>
      <if test="graduatedDate != null">
        GRADUATED_DATE,
      </if>
      <if test="stuStatus != null">
        STU_STATUS,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="traStuUuid != null">
        #{traStuUuid,jdbcType=VARCHAR},
      </if>
      <if test="traUuid != null">
        #{traUuid,jdbcType=VARCHAR},
      </if>
      <if test="stuUuid != null">
        #{stuUuid,jdbcType=VARCHAR},
      </if>
      <if test="registerDate != null">
        #{registerDate,jdbcType=TIMESTAMP},
      </if>
      <if test="graduatedDate != null">
        #{graduatedDate,jdbcType=TIMESTAMP},
      </if>
      <if test="stuStatus != null">
        #{stuStatus,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.great.entity.TrainerStu">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update TRAINER_STU
    <set>
      <if test="traUuid != null">
        TRA_UUID = #{traUuid,jdbcType=VARCHAR},
      </if>
      <if test="stuUuid != null">
        STU_UUID = #{stuUuid,jdbcType=VARCHAR},
      </if>
      <if test="registerDate != null">
        REGISTER_DATE = #{registerDate,jdbcType=TIMESTAMP},
      </if>
      <if test="graduatedDate != null">
        GRADUATED_DATE = #{graduatedDate,jdbcType=TIMESTAMP},
      </if>
      <if test="stuStatus != null">
        STU_STATUS = #{stuStatus,jdbcType=VARCHAR},
      </if>
    </set>
    where TRA_STU_UUID = #{traStuUuid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.great.entity.TrainerStu">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update TRAINER_STU
    set TRA_UUID = #{traUuid,jdbcType=VARCHAR},
      STU_UUID = #{stuUuid,jdbcType=VARCHAR},
      REGISTER_DATE = #{registerDate,jdbcType=TIMESTAMP},
      GRADUATED_DATE = #{graduatedDate,jdbcType=TIMESTAMP},
      STU_STATUS = #{stuStatus,jdbcType=VARCHAR}
    where TRA_STU_UUID = #{traStuUuid,jdbcType=VARCHAR}
  </update>
  
   <resultMap id="ResultMap" type="com.great.entity.Student">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    <id column="STU_UUID" jdbcType="VARCHAR" property="stuUuid" />
    <result column="SUB_NO" jdbcType="DECIMAL" property="subNo" />
    <result column="STU_ID" jdbcType="DECIMAL" property="stuId" />
    <result column="STU_NAME" jdbcType="VARCHAR" property="stuName" />
    <result column="STU_BIRTHDAY" jdbcType="TIMESTAMP" property="stuBirthday" />
    <result column="STU_GENDER" jdbcType="VARCHAR" property="stuGender" />
    <result column="STU_PWD" jdbcType="VARCHAR" property="stuPwd" />
    <result column="STU_IDENTITY" jdbcType="VARCHAR" property="stuIdentity" />
    <result column="STU_PHONE" jdbcType="VARCHAR" property="stuPhone" />
    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
    <result column="STU_CUR_SUB" jdbcType="VARCHAR" property="stuCurSub" />
    <result column="DRIVING_TYPE" jdbcType="VARCHAR" property="drivingType" />
    <result column="FORMER_TYPE" jdbcType="VARCHAR" property="formerType" />
    <result column="ETHNIC_GROUP" jdbcType="VARCHAR" property="ethnicGroup" />
    <result column="CUR_LOCATION" jdbcType="VARCHAR" property="curLocation" />
    <result column="IDENTITY_LOCATION" jdbcType="VARCHAR" property="identityLocation" />
  </resultMap>
  
  <select id="showAllStudents" parameterType="java.lang.String" resultMap="ResultMap">
     select * from student where stu_uuid=#{uid}
  </select>
  <select id="checkSetedStudent" resultMap="BaseResultMap">
     SELECT * FROM TRAINER_STU
  </select>
  <select id="showStuTime" parameterType="java.util.List" resultType="java.util.Map">
  
      select  s.stu_id, s.stu_name,s.stu_cur_sub, j.sub_name ,j.sub_need_time ,t.ct_sub1 ,t.ct_sub2 ,t.ct_sub3,t.ct_sub4 from      
      student s join subject j on j.sub_no=s.sub_no  join stu_card_time t on  t.stu_uuid=s.stu_uuid        
      where s.stu_uuid in 
     
     <foreach collection="list" item="Student" open="(" separator="," close=")">    
     #{Student.stuUuid}
     </foreach>

  </select>
  
  <select id="getTrainerUuidByStuUuid" parameterType="java.lang.String" resultType="java.lang.String">
    select tra_uuid from  trainer_stu where stu_uuid=#{stuUuid}
  </select>
  
  
  
</mapper>