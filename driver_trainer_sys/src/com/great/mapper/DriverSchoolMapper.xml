<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.great.dao.DriverSchoolMapper">
  <resultMap id="BaseResultMap" type="com.great.entity.DriverSchool">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    <id column="SCH_UUID" jdbcType="VARCHAR" property="schUuid" />
    <result column="SCH_ID" jdbcType="DECIMAL" property="schId" />
    <result column="SCH_NAME" jdbcType="VARCHAR" property="schName" />
    <result column="SCH_PWD" jdbcType="VARCHAR" property="schPwd" />
    <result column="SCH_INTRO" jdbcType="VARCHAR" property="schIntro" />
    <result column="SCH_SCORE" jdbcType="DECIMAL" property="schScore" />
    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
    <result column="SCH_LOCATION" jdbcType="VARCHAR" property="schLocation" />
    <result column="SCH_PHONE" jdbcType="VARCHAR" property="schPhone" />
    <result column="LAST_LOGIN_DATE" jdbcType="TIMESTAMP" property="lastLoginDate" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    SCH_UUID, SCH_ID, SCH_NAME, SCH_PWD, SCH_INTRO, SCH_SCORE, CREATE_DATE, SCH_LOCATION, 
    SCH_PHONE, LAST_LOGIN_DATE
  </sql>
  <!-- xp 检查帐号 -->
  <select id="checkId" parameterType="com.great.entity.DriverSchool" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    select 
    *
    from DRIVER_SCHOOL
    where SCH_ID = #{schId,jdbcType=VARCHAR}
  </select>
    <!-- xp 检查密码 -->
  <select id="checkPwd" parameterType="com.great.entity.DriverSchool" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    select 
    *
    from DRIVER_SCHOOL
    where SCH_ID = #{schId,jdbcType=VARCHAR} AND SCH_PWD = #{schPwd,jdbcType=VARCHAR}
  </select>
  <!-- xp 获得所有学员 -->
  <select id="getAllDriverSchools" resultMap="BaseResultMap">
  	select 
    *
    from DRIVER_SCHOOL
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    delete from DRIVER_SCHOOL
    where SCH_UUID = #{schUuid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.great.entity.DriverSchool">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into DRIVER_SCHOOL (SCH_UUID, SCH_ID, SCH_NAME, 
      SCH_PWD, SCH_INTRO, SCH_SCORE, 
      CREATE_DATE, SCH_LOCATION, SCH_PHONE, 
      LAST_LOGIN_DATE)
    values (#{schUuid,jdbcType=VARCHAR}, seq_driver_school.nextval, #{schName,jdbcType=VARCHAR}, 
      #{schPwd,jdbcType=VARCHAR}, #{schIntro,jdbcType=VARCHAR}, 5, 
      sysdate, #{schLocation,jdbcType=VARCHAR}, #{schPhone,jdbcType=VARCHAR}, 
      #{lastLoginDate,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.great.entity.DriverSchool">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into DRIVER_SCHOOL
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="schUuid != null">
        SCH_UUID,
      </if>
      <if test="schId != null">
        SCH_ID,
      </if>
      <if test="schName != null">
        SCH_NAME,
      </if>
      <if test="schPwd != null">
        SCH_PWD,
      </if>
      <if test="schIntro != null">
        SCH_INTRO,
      </if>
      <if test="schScore != null">
        SCH_SCORE,
      </if>
      <if test="createDate != null">
        CREATE_DATE,
      </if>
      <if test="schLocation != null">
        SCH_LOCATION,
      </if>
      <if test="schPhone != null">
        SCH_PHONE,
      </if>
      <if test="lastLoginDate != null">
        LAST_LOGIN_DATE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="schUuid != null">
        #{schUuid,jdbcType=VARCHAR},
      </if>
      <if test="schId != null">
        #{schId,jdbcType=DECIMAL},
      </if>
      <if test="schName != null">
        #{schName,jdbcType=VARCHAR},
      </if>
      <if test="schPwd != null">
        #{schPwd,jdbcType=VARCHAR},
      </if>
      <if test="schIntro != null">
        #{schIntro,jdbcType=VARCHAR},
      </if>
      <if test="schScore != null">
        #{schScore,jdbcType=DECIMAL},
      </if>
      <if test="createDate != null">
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="schLocation != null">
        #{schLocation,jdbcType=VARCHAR},
      </if>
      <if test="schPhone != null">
        #{schPhone,jdbcType=VARCHAR},
      </if>
      <if test="lastLoginDate != null">
        #{lastLoginDate,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.great.entity.DriverSchool">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update DRIVER_SCHOOL
    <set>
      <if test="schId != null">
        SCH_ID = #{schId,jdbcType=DECIMAL},
      </if>
      <if test="schName != null">
        SCH_NAME = #{schName,jdbcType=VARCHAR},
      </if>
      <if test="schPwd != null">
        SCH_PWD = #{schPwd,jdbcType=VARCHAR},
      </if>
      <if test="schIntro != null">
        SCH_INTRO = #{schIntro,jdbcType=VARCHAR},
      </if>
      <if test="schScore != null">
        SCH_SCORE = #{schScore,jdbcType=DECIMAL},
      </if>
      <if test="createDate != null">
        CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="schLocation != null">
        SCH_LOCATION = #{schLocation,jdbcType=VARCHAR},
      </if>
      <if test="schPhone != null">
        SCH_PHONE = #{schPhone,jdbcType=VARCHAR},
      </if>
      <if test="lastLoginDate != null">
        LAST_LOGIN_DATE = #{lastLoginDate,jdbcType=TIMESTAMP},
      </if>
    </set>
    where SCH_UUID = #{schUuid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.great.entity.DriverSchool">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update DRIVER_SCHOOL
    set SCH_ID = #{schId,jdbcType=DECIMAL},
      SCH_NAME = #{schName,jdbcType=VARCHAR},
      SCH_PWD = #{schPwd,jdbcType=VARCHAR},
      SCH_INTRO = #{schIntro,jdbcType=VARCHAR},
      SCH_SCORE = #{schScore,jdbcType=DECIMAL},
      CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},
      SCH_LOCATION = #{schLocation,jdbcType=VARCHAR},
      SCH_PHONE = #{schPhone,jdbcType=VARCHAR},
      LAST_LOGIN_DATE = #{lastLoginDate,jdbcType=TIMESTAMP}
    where SCH_UUID = #{schUuid,jdbcType=VARCHAR}
  </update>
  
  <update id="updateByIdSelective" parameterType="com.great.entity.DriverSchool">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update DRIVER_SCHOOL
    <set>
      
      <if test="schName != null">
        SCH_NAME = #{schName,jdbcType=VARCHAR},
      </if>
      <if test="schPwd != null">
        SCH_PWD = #{schPwd,jdbcType=VARCHAR},
      </if>
      <if test="schIntro != null">
        SCH_INTRO = #{schIntro,jdbcType=VARCHAR},
      </if>
      <if test="schScore != null">
        SCH_SCORE = #{schScore,jdbcType=DECIMAL},
      </if>
      <if test="createDate != null">
        CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="schLocation != null">
        SCH_LOCATION = #{schLocation,jdbcType=VARCHAR},
      </if>
      <if test="schPhone != null">
        SCH_PHONE = #{schPhone,jdbcType=VARCHAR},
      </if>
      <if test="lastLoginDate != null">
        LAST_LOGIN_DATE = #{lastLoginDate,jdbcType=TIMESTAMP},
      </if>
    </set>
    where SCH_ID = #{schId,jdbcType=DECIMAL}
  </update>
  <!-- xp -->
  <delete id="deleteById" parameterType="int">
   
    delete from DRIVER_SCHOOL
    where SCH_ID = #{schId,jdbcType=DECIMAL}
  </delete>
  
  <update id="updateSchoolScore" parameterType="java.util.Map">  
   update driver_school set sch_score=#{score} where sch_uuid=(select sch_uuid from school_stu where stu_uuid=#{stuUuid})
  </update>
  
  <select id="allSchool" resultType="java.util.Map"> 
     select * from DRIVER_SCHOOL 
  </select>
  
</mapper>