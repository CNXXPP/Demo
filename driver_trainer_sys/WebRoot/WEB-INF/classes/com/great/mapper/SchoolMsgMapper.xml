<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.great.dao.SchoolMsgMapper">
  <resultMap id="BaseResultMap" type="com.great.entity.SchoolMsg">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    <id column="SCMSG_UUID" jdbcType="VARCHAR" property="scmsgUuid" />
    <result column="SCH_UUID" jdbcType="VARCHAR" property="schUuid" />
    <result column="SCMSG_TITLE" jdbcType="VARCHAR" property="scmsgTitle" />
    <result column="SCMSG_CONTEXT" jdbcType="VARCHAR" property="scmsgContext" />
    <result column="SCMSG_IDENTITY" jdbcType="VARCHAR" property="scmsgIdentity" />
    <result column="SCMSG_DATE" jdbcType="TIMESTAMP" property="scmsgDate" />
    <result column="SCMSG_STATUS" jdbcType="VARCHAR" property="scmsgStatus" />
    <result column="SCMSG_TYPE" jdbcType="VARCHAR" property="scmsgType" />
    <result column="SCMSG_GROUP" jdbcType="VARCHAR" property="scmsgGroup" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    SCMSG_UUID, SCH_UUID, SCMSG_TITLE, SCMSG_CONTEXT, SCMSG_IDENTITY, SCMSG_DATE, SCMSG_STATUS, 
    SCMSG_TYPE, SCMSG_GROUP
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from SCHOOL_MSG
    where SCMSG_UUID = #{scmsgUuid,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    delete from SCHOOL_MSG
    where SCMSG_UUID = #{scmsgUuid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.great.entity.SchoolMsg">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into SCHOOL_MSG (SCMSG_UUID, SCH_UUID, SCMSG_TITLE, 
      SCMSG_CONTEXT, SCMSG_IDENTITY, SCMSG_DATE, 
      SCMSG_STATUS, SCMSG_TYPE, SCMSG_GROUP
      )
    values (#{scmsgUuid,jdbcType=VARCHAR}, #{schUuid,jdbcType=VARCHAR}, #{scmsgTitle,jdbcType=VARCHAR}, 
      #{scmsgContext,jdbcType=VARCHAR}, #{scmsgIdentity,jdbcType=VARCHAR}, sysdate, 
      #{scmsgStatus,jdbcType=VARCHAR}, #{scmsgType,jdbcType=VARCHAR}, #{scmsgGroup,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.great.entity.SchoolMsg">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    insert into SCHOOL_MSG
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="scmsgUuid != null">
        SCMSG_UUID,
      </if>
      <if test="schUuid != null">
        SCH_UUID,
      </if>
      <if test="scmsgTitle != null">
        SCMSG_TITLE,
      </if>
      <if test="scmsgContext != null">
        SCMSG_CONTEXT,
      </if>
      <if test="scmsgIdentity != null">
        SCMSG_IDENTITY,
      </if>
      <if test="scmsgDate != null">
        SCMSG_DATE,
      </if>
      <if test="scmsgStatus != null">
        SCMSG_STATUS,
      </if>
      <if test="scmsgType != null">
        SCMSG_TYPE,
      </if>
      <if test="scmsgGroup != null">
        SCMSG_GROUP,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="scmsgUuid != null">
        #{scmsgUuid,jdbcType=VARCHAR},
      </if>
      <if test="schUuid != null">
        #{schUuid,jdbcType=VARCHAR},
      </if>
      <if test="scmsgTitle != null">
        #{scmsgTitle,jdbcType=VARCHAR},
      </if>
      <if test="scmsgContext != null">
        #{scmsgContext,jdbcType=VARCHAR},
      </if>
      <if test="scmsgIdentity != null">
        #{scmsgIdentity,jdbcType=VARCHAR},
      </if>
      <if test="scmsgDate != null">
        #{scmsgDate,jdbcType=TIMESTAMP},
      </if>
      <if test="scmsgStatus != null">
        #{scmsgStatus,jdbcType=VARCHAR},
      </if>
      <if test="scmsgType != null">
        #{scmsgType,jdbcType=VARCHAR},
      </if>
      <if test="scmsgGroup != null">
        #{scmsgGroup,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.great.entity.SchoolMsg">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update SCHOOL_MSG
    <set>
      <if test="schUuid != null">
        SCH_UUID = #{schUuid,jdbcType=VARCHAR},
      </if>
      <if test="scmsgTitle != null">
        SCMSG_TITLE = #{scmsgTitle,jdbcType=VARCHAR},
      </if>
      <if test="scmsgContext != null">
        SCMSG_CONTEXT = #{scmsgContext,jdbcType=VARCHAR},
      </if>
      <if test="scmsgIdentity != null">
        SCMSG_IDENTITY = #{scmsgIdentity,jdbcType=VARCHAR},
      </if>
      <if test="scmsgDate != null">
        SCMSG_DATE = #{scmsgDate,jdbcType=TIMESTAMP},
      </if>
      <if test="scmsgStatus != null">
        SCMSG_STATUS = #{scmsgStatus,jdbcType=VARCHAR},
      </if>
      <if test="scmsgType != null">
        SCMSG_TYPE = #{scmsgType,jdbcType=VARCHAR},
      </if>
      <if test="scmsgGroup != null">
        SCMSG_GROUP = #{scmsgGroup,jdbcType=VARCHAR},
      </if>
    </set>
    where SCMSG_UUID = #{scmsgUuid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.great.entity.SchoolMsg">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    update SCHOOL_MSG
    set SCH_UUID = #{schUuid,jdbcType=VARCHAR},
      SCMSG_TITLE = #{scmsgTitle,jdbcType=VARCHAR},
      SCMSG_CONTEXT = #{scmsgContext,jdbcType=VARCHAR},
      SCMSG_IDENTITY = #{scmsgIdentity,jdbcType=VARCHAR},
      SCMSG_DATE = #{scmsgDate,jdbcType=TIMESTAMP},
      SCMSG_STATUS = #{scmsgStatus,jdbcType=VARCHAR},
      SCMSG_TYPE = #{scmsgType,jdbcType=VARCHAR},
      SCMSG_GROUP = #{scmsgGroup,jdbcType=VARCHAR}
    where SCMSG_UUID = #{scmsgUuid,jdbcType=VARCHAR}
  </update>
    <resultMap id="msgInfo" type="com.great.entity.MsgInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Sep 26 17:46:16 CST 2017.
    -->
    <id column="SCMSG_UUID" jdbcType="VARCHAR" property="scmsgUuid" />
    <result column="STU_NAME" jdbcType="VARCHAR" property="stuName" />
    <result column="SCMSG_TITLE" jdbcType="VARCHAR" property="scmsgTitle" />
    <result column="SCMSG_CONTEXT" jdbcType="VARCHAR" property="scmsgContext" />
    <result column="SCMSG_DATE" jdbcType="TIMESTAMP" property="scmsgDate" />
    <result column="SCMSG_STATUS" jdbcType="VARCHAR" property="scmsgStatus" />
    <result column="SCMSG_TYPE" jdbcType="VARCHAR" property="scmsgType" />
  </resultMap>
  <select id="getSchoolMsgs" parameterType="com.great.entity.SchoolMsg" resultMap="msgInfo">
      SELECT SCMSG_UUID,STU_NAME,SCMSG_STATUS,SCMSG_TYPE,SCMSG_TITLE,SCMSG_DATE,SCMSG_CONTEXT FROM STUDENT,
      SCHOOL_MSG WHERE SCHOOL_MSG.SCMSG_IDENTITY=STUDENT.STU_UUID AND SCH_UUID = #{schUuid,jdbcType=VARCHAR}
      ORDER BY SCMSG_DATE desc
  </select>
</mapper>